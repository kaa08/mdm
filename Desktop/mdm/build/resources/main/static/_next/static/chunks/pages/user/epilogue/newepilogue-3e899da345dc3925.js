(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9204],{9482:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/epilogue/newepilogue",function(){return t(6694)}])},6694:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var o=t(5893),i=t(7294),s=t(9712),c=t.n(s);t(93);var l=t(5804),a=t(2424),r=t(630),_=t(1163);function u(){let[e,n]=(0,i.useState)(""),[t,s]=(0,i.useState)(""),[u,d]=(0,i.useState)(""),[p,x]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[b,w]=(0,i.useState)(""),j=(0,_.useRouter)(),v=async()=>{let n=localStorage.getItem("loginToken");await (0,r.K9)({title:t,content:e,historyId:u},n)&&(alert("후기가 작성되었습니다."),j.push("/user/epilogue"))},f=()=>{x(e=>!e)},m=p&&(0,o.jsx)(a.Z,{onClick:(e,n)=>{x(!1),g(!0),d(e),w(n)},onToggle:f});return(0,o.jsxs)("div",{className:c().wrapper,children:[(0,o.jsxs)("div",{className:c().container,children:[(0,o.jsx)("div",{className:c().box,children:(0,o.jsx)("h2",{children:"후기 작성"})}),h?(0,o.jsxs)("div",{className:c().record_box,children:["선택한 과실비율 : ",b]}):(0,o.jsx)(l.Z,{onClickButton:f,children:"기록 조회"}),m,(0,o.jsxs)("div",{className:c().content_box,children:[(0,o.jsxs)("div",{className:c().title,children:[(0,o.jsx)("span",{children:"제목: "}),(0,o.jsx)("textarea",{onChange:e=>{s(e.target.value),console.log(t)},className:c().title_post,value:t})]}),(0,o.jsx)("textarea",{placeholder:"후기내용",className:c().content,onChange:t=>{n(t.target.value),console.log(e)},value:e})]})]}),(0,o.jsx)("div",{className:c().new_post,children:(0,o.jsx)("button",{onClick:v,className:c().button,children:"글쓰기"})})]})}},5804:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var o=t(5893),i=t(2857),s=t.n(i);function c(e){let{onClickButton:n,children:t,styles:i}=e;return(0,o.jsx)("div",{className:"".concat(s().button," ").concat(s().button2),style:i,onClick:n,children:t})}},93:function(e,n,t){"use strict";var o=t(5893);t(3935);var i=t(5595),s=t.n(i);let c=e=>(0,o.jsx)("div",{className:s().backdrop,onClick:e.onHide}),l=e=>(0,o.jsx)("div",{className:s().modal,children:(0,o.jsx)("div",{className:s().content,children:e.children})});n.Z=e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c,{onHide:e.onHide}),(0,o.jsx)(l,{children:e.children})]})},2424:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var o=t(5893),i=t(8618),s=t.n(i),c=t(630),l=t(7294),a=t(93),r=t(5007);function _(e){let{onToggle:n,onClick:t}=e,[i,_]=(0,l.useState)([]),u=(0,r.v9)(e=>e.auth.isUserAuthenticated);return(0,l.useEffect)(()=>{let e=localStorage.getItem("loginToken"),n=async()=>{let n=await (0,c.Sf)(e);n&&_(n.data.content)};u&&n()},[]),(0,o.jsxs)(a.Z,{onHide:n,children:[(0,o.jsx)("h3",{children:"과거 기록조회"}),(0,o.jsx)("ul",{children:i&&i.map(e=>(0,o.jsx)("li",{children:(0,o.jsxs)("div",{className:s().record_box,onClick:t.bind(null,e.historyId,e.negligence.slice(10,15)),children:[(0,o.jsxs)("div",{children:["과실비율 : ",e.negligence.slice(10,15)]}),(0,o.jsx)("div",{className:s().date,children:e.createdDate.slice(0,10)})]})},e.historyId))})]})}},9712:function(e){e.exports={wrapper:"newepilogue_wrapper__0ENu8",container:"newepilogue_container__ptPuO",record_box:"newepilogue_record_box__B0zmz",box:"newepilogue_box__AA61_",search_bar:"newepilogue_search_bar__RycS5",paging:"newepilogue_paging__IYtFR",new_post:"newepilogue_new_post__VZrwN",content_box:"newepilogue_content_box__HcobE",title:"newepilogue_title__Xb216",title_post:"newepilogue_title_post__Ptvdx",content:"newepilogue_content__rQTcj",like:"newepilogue_like__uw7p3",button:"newepilogue_button__GWIxP",check_button:"newepilogue_check_button__DxQp8"}},2857:function(e){e.exports={button:"Button_button__Y3HIB",button2:"Button_button2__5RWe0"}},5595:function(e){e.exports={backdrop:"Modal_backdrop__QE4nN",modal:"Modal_modal__a_Rvo","slide-down":"Modal_slide-down__ujkOP"}},8618:function(e){e.exports={record_box:"AiRecord_record_box__7idlU",date:"AiRecord_date__nsZ0r"}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=9482)}),_N_E=e.O()}]);